infoSession()
sessionInfo
sessionInfo()
add2 = function(x,y) {
return x+y
add2 = function(x,y) {
x+y
}
add2(2,1)
above10 = function(x,n){
use = x > n
x[use]
}
x = 1:10
above10(x,3)
above10 = function(x,n=3){
use = x > n
x[use]
}
above10(x)
rm(x)
rm(add2)
rm(above10)
?function
;
?function()
a
getwd()
getwd()
paste0(getwd(), "/", "Documentos")
getwd()
polluntantmean = function(directory, pollutant,id){
direc= paste0(getwd(),"/","Documentos","/",directory)
files = list.files(direc,pattern = "//.csv$",full.names = TRUE)
print(files)
}
polluntantmean("specdata")
getwd()
polluntantmean("specdata")
polluntantmean = function(directory, pollutant,id){
direc= paste0(getwd(),"/","Documentos","/",directory)
files = list.files(direc,pattern = "\\.csv$",full.names = TRUE)
print(files)
}
polluntantmean("specdata")
polluntantmean = function(directory, pollutant,id){
direc= paste0(getwd(),"/","Documentos","/",directory)
files = list.files(direc,pattern = "\\.csv$",full.names = TRUE)
files = files[id]
print(files)
}
polluntantmean("specdata")
polluntantmean = function(directory, id){
direc= paste0(getwd(),"/","Documentos","/",directory)
files = list.files(direc,pattern = "\\.csv$",full.names = TRUE)
files = files[id]
print(files)
}
polluntantmean("specdata",1:10)
polluntantmean = function(directory, polluntant, id){
direc= paste0(getwd(),"/","Documentos","/",directory)
files = list.files(direc,pattern = "\\.csv$",full.names = TRUE)
files = files[id]
data_list = lapply(files, read.csv)
values = unlist(lapply(data_list, function(df) df[[polluntant]]))
mean(values,na.rm=TRUE)
}
polluntantmean("specdata","nitrate",23)
getwd()
getwd()
complete = function(directory,id){
dirpath = paste0(getwd(),"/","Documentos","/",directory)
files = list.files(dirpath,pattern = "\\.csv$",full.names = TRUE)
files = files[id]
results = data.frame(id = integer(),nobs=integer())
for(i in seq_along(files)){
data = read.csv(files[i])
nobs = complete.cases(data)
results = rbind(results,data.frame(id=id[i],nobs = nobs))
}
return(results)
}
complete("specdata",30:25)
complete = function(directory,id){
dirpath = paste0(getwd(),"/","Documentos","/",directory)
files = list.files(dirpath,pattern = "\\.csv$",full.names = TRUE)
files = files[id]
results = data.frame(id = integer(),nobs=integer())
for(i in seq_along(files)){
data = read.csv(files[i])
nobs =sum(complete.cases(data))
results = rbind(results,data.frame(id=id[i],nobs = nobs))
}
return(results)
}
complete("specdata",30:25)
getwd(})
getwd()
?corr
?cor
print(numeric())
print(numeric(0))
prueba = numeric(0)
prueba
prueba = c(prueba,0.01)
prueba = c(prueba,0.02)
corr = function(directory,threshold){
dirpath = paste0(getwd(),'/','Documentos','/',directory)
files = list.files(dirpath,pattern = "\\.csv$",full.names = TRUE)
result = numeric(0)
for (f in files) {
data = read.csv(f)
data_complete = data[complete.cases(data),]
nobs = nrow(data_complete)
if(nobs>threshold){
cval = cor(data_complete$nitrate,data_complete$sulfate)
results <- c(results, cval)
}
}
return(results)
}
cr = corr("specdata",150)
corr = function(directory,threshold){
dirpath = paste0(getwd(),'/','Documentos','/',directory)
files = list.files(dirpath,pattern = "\\.csv$",full.names = TRUE)
result = numeric(0)
for (f in files) {
data = read.csv(f)
data_complete = data[complete.cases(data),]
nobs = nrow(data_complete)
if(nobs>threshold){
cval = cor(data_complete$nitrate,data_complete$sulfate)
result <- c(result, cval)
}
}
return(result)
}
cr = corr("specdata",150)
head(cr)
summary(cr)
rm(prueba)
complete = function(directory,id){
dirpath = paste0(getwd(),"/","Documentos","/",directory)
files = list.files(dirpath,pattern = "\\.csv$",full.names = TRUE)
files = files[id]
results = data.frame(id = integer(),nobs=integer())
for(i in seq_along(files)){
data = read.csv(files[i])
nobs =sum(complete.cases(data))
results = rbind(results,data.frame(id=id[i],nobs = nobs))
}
return(results)
}
polluntantmean = function(directory, polluntant, id){
direc= paste0(getwd(),"/","Documentos","/", directory)
files = list.files(direc,pattern = "\\.csv$",full.names = TRUE)
files = files[id]
data_list = lapply(files, read.csv)
values = unlist(lapply(data_list, function(df) df[[polluntant]]))
mean(values,na.rm=TRUE)
}
rm(cr)
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean = function(directory, polluntant, id){
direc= paste0(getwd(),"/","Documentos","/", directory)
files = list.files(direc,pattern = "\\.csv$",full.names = TRUE)
files = files[id]
data_list = lapply(files, read.csv)
values = unlist(lapply(data_list, function(df) df[[polluntant]]))
mean(values,na.rm=TRUE)
}
rm(polluntantmean())
rm(polluntantmean
)
pollutantmean("specdata", "sulfate", 1:10)
pollutantmean("specdata", "nitrate", 70:72)
pollutantmean("specdata", "sulfate", 34)
pollutantmean("specdata", "nitrate")
cc <- complete("specdata", c(6, 10, 20, 34, 100, 200, 310))
print(cc$nobs)
cc <- complete("specdata", 54)
print(cc$nobs)
RNGversion("3.5.1")
set.seed(42)
cc <- complete("specdata", 332:1)
use <- sample(332, 10)
print(cc[use, "nobs"])
corr = function(directory,threshold=0){
dirpath = paste0(getwd(),'/','Documentos','/',directory)
files = list.files(dirpath,pattern = "\\.csv$",full.names = TRUE)
result = numeric(0)
for (f in files) {
data = read.csv(f)
data_complete = data[complete.cases(data),]
nobs = nrow(data_complete)
if(nobs>threshold){
cval = cor(data_complete$nitrate,data_complete$sulfate)
result <- c(result, cval)
}
}
return(result)
}
cr <- corr("specdata")
cr <- sort(cr)
RNGversion("3.5.1")
set.seed(868)
out <- round(cr[sample(length(cr), 5)], 4)
print(out)
cr <- corr("specdata", 129)
cr <- sort(cr)
n <- length(cr)
RNGversion("3.5.1")
set.seed(197)
out <- c(n, round(cr[sample(n, 5)], 4))
print(out
)
cr <- corr("specdata", 2000)
n <- length(cr)
cr <- corr("specdata", 1000)
cr <- sort(cr)
print(c(n, round(cr, 4)))
getwd()
setwd("/home/abraham/Documentos/ProgrammingAssignment2")
getwd()
ls()
